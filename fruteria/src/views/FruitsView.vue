<template>
  <Layout titulo="Frutas Disponibles">
    <div v-if="loading" class="alert alert-info">Cargando frutas...</div>
    <div v-if="error" class="alert alert-danger">{{ error }}</div>

    <ul v-if="!loading && !error" class="list-group">
      <li v-for="fruit in fruits" :key="fruit.id" class="list-group-item">
        <strong>{{ fruit.name }}</strong>  
        <ul class="list-unstyled">
          <li>ğŸ§¬ Familia: {{ fruit.family }}</li>
          <li>ğŸŒ± GÃ©nero: {{ fruit.genus }}</li>
          <li>ğŸ“‘ Orden: {{ fruit.order }}</li>
          <li>ğŸ”¥ CalorÃ­as: {{ fruit.nutritions.calories }}</li>
          <li>ğŸ Carbohidratos: {{ fruit.nutritions.carbohydrates }}g</li>
          <li>ğŸ’ª ProteÃ­nas: {{ fruit.nutritions.protein }}g</li>
          <li>ğŸ§ˆ Grasas: {{ fruit.nutritions.fat }}g</li>
          <li>ğŸ¬ AzÃºcar: {{ fruit.nutritions.sugar }}g</li>
        </ul>
      </li>
    </ul>
  </Layout>
</template>

<script setup lang="ts">
import Layout from '../components/Layout.vue'
import { useFruitsApi } from '../composables/useFruitsApi'

const { fruits, loading, error, fetchFruits } = useFruitsApi()

fetchFruits()
</script>
